# 基本数据

golang数据类型广泛,向下匹配硬件,向上满足高级编程所需.

* go的数据类型为四大类:
  1. 基础类型(basic type)
  2. 聚合类型(aggregate type)  `通过简单的数据类型而成的复杂数据类型`
     1. 数组(arry)
     2. 结构体(struct)
  3. 引用类型(reference type)   `间接指向程序变量或者状态`
     1. 指针(pointer)
     2. slice
     3. map
     4. function
     5. 通道(channel)
  4. 接口类型(interface type)

第三章主要阐述基本数据类型的知识.

## 3.1 整数

### 整数

* 整数分为一下两种:
  1. 有符号整数:
     * int8
     * int16
     * int32
     * int64
  2. 无符号整数:
     * uint8
     * uint16
     * uint32
     * uint64

* int 与 uint 在不同平台下编译器选用的大小可能不同,大小为该平台下的原生有/无符号数值大小一样,也可以说是该平台上运算效率最高的数值.
* rune是int32的同义词,常用于指明某个Unicode码点(`Unicode为32bit`).
* byte是uint8的同义词,用于强调一个值为原始数据,而不是量值.
* uintptr,大小不定,足以存放完整指针,但仅仅用于底层编程.
  
## 3.2 浮点数

* 绝大多数情况下,应该使用float64, float32会迅速累积误差.
* 浮点值方便通过Printf的谓词%g输出,该谓词会自动保持足够的精度,可选%e,%f形式进行输出.
   > x := 3.1415926535  
   > fmt.Printf("%g\t,%e[1]\t,%[1]f\n", x)  
   > 输出结果为:  
   > 3.1415926535    ,%!e(MISSING)[1]        ,3.141593

## 3.3 复数

* go 支持两种大小的复数,`complex64`与`complex128`,分别由float32,float64组成.
* 内置的complex函数根据实部与虚部创建复数,real函数和imag函数分别提取复数的实部和虚部;
   ```
   var x = complex128(1,3)  //1 + 3i
   fmt.println(real(x))     //1
   fmt.println(imag(y))     //3
   ```

## 3.4 布尔值

只有两种可能:
* boolean
  * true
  * false  


## 3.5 字符串

* 内置函数len可以返回字符串字节数,对于ASCII字符下下标访问可以取得相应位置的字符串,`但访问越界的字符会引起宕机异常`.
* 对于字符串`s`, `s[i:j]`可以截取出一个新的子串,大小为`j-i`个字节.
* 字符串内部数据不可修改, 这意味着字符串与子串可以安全地共用数据(共用底层字节数组).

### 3.5.1 字符串字面量

* 字符串字面量形式上用双引号包裹起来的字符序列.
* 原生字符串字面量用单引号包裹.
* 都支持反斜杠转义字符
  
### 3.5.2 Unicode

*  Unicode码点的编码长度为32bit,int32.

### 3.5.3 UTF-8

* UTF-8 是以字节单位对Unicode码点作变长编码.
* 一个码点用1~4个字节表示.首字节高位表示之后还有多少个字节.若最高位为0,表示后面还有7bit,即一个字节为ASCII码,若高位为110则是两个字节.表示为
   >110xxxxx 1xxxxxxx  
   高位为1110,则类推为三个字节结构如上,多加一个字节,新增字节的高位为1.
  
### 3.5.4 字符串和字节slice
* go内置了四个对字符串操作的标准包:
   1. strings包: 提供了许多函数用于搜索,替换,比较,修整,切分与连接字符串.
   2. bytes用于对slice进行操作,功能类似strings
   3. stronv主要负责各种基本数据类型之间的转换
   4. unicde包主要包含负责文字判别的函数.

### 3.5.5 字符串与数字的相互转换

* 数字转换为字符串:
   > x := 123
  1. 使用fmt.Sptintf()
   > y := fmt.Sprintf("%d",x) 
  2. 使用strconv包:
   > y :=  strconv.Itoa(x)

   `strconv包里的FormatInt以及FormatUint可以按照不同的进制输出数字,例如:strconv.FormatInt(int64(x),2) 就可以把x转换为2进制,相比之下,pinrtf函数的谓词修饰更方便`

* 字符串转换为数字: strconv中的Atoi或者ParaseInt函数用于解释表示整数的字符串,ParaseUint用于无符号整数.
  > x, err := strconv.Aoti("123")
  > y, err := strconv.ParaseInt("123",10,64)  //十进制,最长64位.


## 3.6 常量

### 3.61 常量生成器iota

* 要熟悉iota的使用.

### 3.62 无类型常量

* `于go而言,常量可以是任意基本数据类型,但是在常量声明时,并不从属于某一个类型,且算数精度高于原生机器精度,可以说精度至少达到256bit.`
* `只有常量才是无类型的,若将常量声明为变量,或者赋值操作,常量就会被隐式转化为变量的类型.`
*  `若变量为指明类型, 则会默认隐式转换为该变量的默认类型.`